# Роль Администратора

## Обзор

В приложение добавлена третья роль - **Админ**. Теперь в системе три типа пользователей:

### 1. **Студент**
- Просматривает расписание занятий
- Сдает домашние задания
- Отслеживает свой прогресс
- Связывается с куратором

### 2. **Куратор**
- Добавляет задания и домашки
- Добавляет расписание занятий + материалы
- Проверяет сдачи студентов
- Формирует отчеты

### 3. **Админ** (новая роль)
- Управляет кураторами (создание, редактирование, удаление)
- Назначает группы кураторам
- Добавляет кураторов в курсы
- Управляет всей структурой обучения

## Структура админ-панели

### Страницы админа

#### 1. Кураторы (`/`)
**Функциональность:**
- Просмотр списка всех кураторов
- Создание новых кураторов с указанием:
  - ФИО
  - Email
  - Telegram ID
  - Пароль
- Редактирование данных существующих кураторов
- Удаление кураторов
- Сброс пароля (отправка письма на email)

**Отображаемая информация:**
- Имя куратора
- Email
- Telegram ID
- Аватар (инициал имени)

#### 2. Группы (`/groups`)
**Функциональность:**
- Просмотр всех учебных групп
- Создание новых групп с указанием:
  - Название группы
  - Описание
  - Назначение куратора
- Редактирование групп
- Удаление групп

**Отображаемая информация:**
- Название группы
- Описание
- Назначенный куратор
- Количество студентов

#### 3. Курсы (`/courses`)
**Функциональность:**
- Просмотр всех курсов
- Создание новых курсов с указанием:
  - Название курса
  - Описание
  - Назначение одного или нескольких кураторов
- Редактирование курсов
- Удаление курсов

**Отображаемая информация:**
- Название курса
- Описание
- Список назначенных кураторов
- Количество групп
- Количество занятий

## Технические изменения

### Обновленные файлы

1. **`src/contexts/RoleContext.tsx`**
   - Добавлен тип `'admin'` в `Role`

2. **`src/types/index.ts`**
   - Обновлен интерфейс `User` с добавлением роли `'admin'`
   - Добавлены новые интерфейсы:
     - `Group` - учебная группа
     - `Course` - курс обучения
     - `CuratorWithGroups` - куратор с назначенными группами

3. **`src/App.tsx`**
   - Добавлены импорты админских страниц
   - Добавлена маршрутизация для роли админа

4. **`src/components/Navigation.tsx`**
   - Добавлена навигация для админа с иконками:
     - Кураторы (UserCog)
     - Группы (Users)
     - Курсы (GraduationCap)

5. **`src/components/Header.tsx`**
   - Обновлен переключатель ролей для цикличного переключения: Студент → Куратор → Админ → Студент
   - Обновлено отображение текущей роли

6. **`src/data/mockData.ts`**
   - Добавлены mock-данные для админа:
     - `admin` - пользователь-админ
     - `mockGroups` - тестовые группы
     - `mockCourses` - тестовые курсы
     - `mockCurators` - список кураторов

### Новые файлы

1. **`src/pages/admin/Curators.tsx`**
   - Страница управления кураторами

2. **`src/pages/admin/Groups.tsx`**
   - Страница управления группами

3. **`src/pages/admin/Courses.tsx`**
   - Страница управления курсами

## Навигация между ролями

Для переключения между ролями (в режиме разработки):
1. Нажмите на иконку профиля (UserCircle) в правом верхнем углу
2. Роль будет циклично меняться: Студент → Куратор → Админ → Студент

## UI/UX особенности

### Общий стиль
- Современный дизайн с использованием Tailwind CSS
- Поддержка темной темы
- Адаптивная верстка для мобильных и десктоп устройств
- Анимации и transitions для плавности

### Модальные окна
- Создание и редактирование используют модальные окна
- Валидация форм на клиенте
- Подтверждение удаления

### Карточки
- Информация представлена в виде карточек
- Hover-эффекты
- Иконки для визуальной идентификации функций

## Следующие шаги

### Интеграция с backend
1. Подключить API для работы с кураторами
2. Реализовать аутентификацию
3. Добавить загрузку данных с сервера
4. Реализовать реальную отправку email для сброса пароля

### Дополнительный функционал
1. Массовое добавление кураторов (импорт из CSV/Excel)
2. Поиск и фильтрация
3. Сортировка списков
4. Статистика по кураторам
5. История изменений
6. Права доступа и роли

### Безопасность
1. Защита роутов по ролям
2. Валидация на сервере
3. Защита от CSRF
4. Rate limiting для API

## Структура данных

### Group
```typescript
interface Group {
  id: string;
  name: string;
  description: string;
  curatorId?: string;
  curatorName?: string;
  studentCount: number;
  courseIds: string[];
}
```

### Course
```typescript
interface Course {
  id: string;
  name: string;
  description: string;
  curatorIds: string[];
  groupIds: string[];
  lessonsCount: number;
}
```

### User (Curator/Admin)
```typescript
interface User {
  id: string;
  name: string;
  email: string;
  role: 'student' | 'curator' | 'admin';
  avatar?: string;
  telegramId?: number;
}
```

## Связи между сущностями

```
Admin
  └── управляет → Curator
                    ├── назначен на → Group
                    │                   └── содержит → Students
                    └── назначен на → Course
                                        └── проводится для → Groups
```

## Примеры использования

### Создание нового куратора
1. Перейдите в раздел "Кураторы"
2. Нажмите "Добавить куратора"
3. Заполните форму
4. Нажмите "Создать"

### Назначение куратора на группу
1. Перейдите в раздел "Группы"
2. Создайте новую группу или отредактируйте существующую
3. Выберите куратора из выпадающего списка
4. Сохраните изменения

### Добавление куратора в курс
1. Перейдите в раздел "Курсы"
2. Создайте новый курс или отредактируйте существующий
3. Отметьте чекбоксами нужных кураторов
4. Сохраните изменения

---

**Дата создания:** 9 октября 2025
**Версия:** 1.0

