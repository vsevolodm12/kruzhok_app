@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  * {
    @apply box-border;
  }
  
  body {
    @apply m-0 p-0 antialiased;
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Helvetica Neue', Arial, sans-serif;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    -webkit-tap-highlight-color: transparent;
  }

  html {
    @apply scroll-smooth;
  }

  /* Улучшенная прокрутка для iOS */
  body {
    overscroll-behavior-y: none;
  }

  /* Скрыть скроллбары но оставить функциональность */
  ::-webkit-scrollbar {
    width: 0;
    background: transparent;
  }

  /* Safe area для мобильных устройств */
  .pb-safe {
    padding-bottom: env(safe-area-inset-bottom);
  }
}

@layer utilities {
  .card {
    @apply bg-surface-light dark:bg-surface-dark rounded-2xl transition-all duration-200;
  }

  .card-hover {
    @apply hover:scale-[1.02] active:scale-[0.98];
  }

  .btn-primary {
    @apply bg-primary-light dark:bg-primary-dark text-white font-medium py-3 px-6 rounded-xl 
           transition-all duration-200 hover:opacity-90 active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed;
  }

  .btn-secondary {
    @apply bg-surfaceSecondary-light dark:bg-surfaceSecondary-dark 
           text-text-primary-light dark:text-text-primary-dark font-medium py-3 px-6 rounded-xl 
           transition-all duration-200 hover:opacity-90 active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed;
  }

  .btn-ghost {
    @apply text-primary-light dark:text-primary-dark font-medium py-3 px-6 rounded-xl 
           transition-all duration-200 hover:bg-surfaceSecondary-light dark:hover:bg-surfaceSecondary-dark active:scale-95;
  }

  .text-primary {
    @apply text-text-primary-light dark:text-text-primary-dark;
  }

  .text-secondary {
    @apply text-text-secondary-light dark:text-text-secondary-dark;
  }

  /* Mobile-first responsive spacing */
  .mobile-spacing {
    @apply space-y-4 lg:space-y-6;
  }

  .mobile-padding {
    @apply px-4 py-4 lg:px-6 lg:py-6;
  }

  /* Mobile-optimized grid */
  .mobile-grid {
    @apply grid gap-4 lg:grid-cols-2;
  }

  /* Mobile-optimized text sizes */
  .mobile-text-lg {
    @apply text-lg lg:text-xl;
  }

  .mobile-text-xl {
    @apply text-xl lg:text-2xl;
  }

  .mobile-text-2xl {
    @apply text-2xl lg:text-4xl;
  }

  /* Desktop-specific styles */
  .desktop-layout {
    @apply lg:flex lg:min-h-screen;
  }

  .desktop-sidebar {
    @apply lg:fixed lg:h-screen lg:border-r lg:border-gray-200 dark:lg:border-gray-800;
  }

  .desktop-content {
    @apply lg:flex-1;
    transition: margin-left 0.3s ease-in-out;
  }

  .desktop-wrapper {
    @apply lg:max-w-content lg:mx-auto lg:px-8 lg:py-8;
  }

  /* Input styles */
  .input {
    @apply w-full px-4 py-3 bg-surface-light dark:bg-surface-dark border-2 border-gray-300 dark:border-gray-600 
           rounded-xl text-primary placeholder:text-secondary 
           focus:outline-none focus:border-primary-light dark:focus:border-primary-dark 
           transition-colors duration-200;
  }

  .textarea {
    @apply w-full px-4 py-3 bg-surface-light dark:bg-surface-dark border-2 border-gray-300 dark:border-gray-600 
           rounded-xl text-primary placeholder:text-secondary resize-none
           focus:outline-none focus:border-primary-light dark:focus:border-primary-dark 
           transition-colors duration-200;
  }

  /* Badge styles */
  .badge {
    @apply px-3 py-1 rounded-lg text-xs font-medium inline-flex items-center gap-1;
  }

  .badge-success {
    @apply bg-success-light/10 dark:bg-success-dark/10 text-success-light dark:text-success-dark;
  }

  .badge-warning {
    @apply bg-warning-light/10 dark:bg-warning-dark/10 text-warning-light dark:text-warning-dark;
  }

  .badge-error {
    @apply bg-error-light/10 dark:bg-error-dark/10 text-error-light dark:text-error-dark;
  }

  .badge-primary {
    @apply bg-primary-light/10 dark:bg-primary-dark/10 text-primary-light dark:text-primary-dark;
  }

  /* Mobile-specific optimizations */
  @media (max-width: 640px) {
    .card {
      @apply rounded-xl;
    }
    
    /* Уменьшенные отступы для мобильных */
    .mobile-compact {
      @apply px-3 py-3;
    }
    
    /* Оптимизация для маленьких экранов */
    .mobile-text-sm {
      @apply text-xs;
    }
  }
}
